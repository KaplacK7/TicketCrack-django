<!DOCTYPE html>
<html lang="es">

<head>
    <title>TicketCRACK</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

    <style>
        /* Fondo general */
        body {
            background-color: #2c2f48; /* gris azulado oscuro */
            color: #fff;
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        }

        /* Header estilo ticket */
        header .brand {
            background: linear-gradient(90deg, #0d6efd, #6610f2);
            color: white;
            padding: 2rem 0;
            border-radius: 0 0 1rem 1rem;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            user-select: none;
        }

        /* Imagen del evento */
        .ticket-image {
            border-radius: 1rem;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
            object-fit: cover;
            height: 400px;
            width: 100%;
        }

        /* Caja datos del evento debajo imagen (glassmorphism) */
        .event-details {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(8px);
            border-radius: 1rem;
            padding: 1.2rem 1.5rem;
            margin-top: 1.5rem;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
        }

        .event-details p {
            color: #f8c471;
            font-size: 1.15rem;
            margin-bottom: 0.5rem;
            font-weight: 500;
            letter-spacing: 0.03rem;
        }

        /* Formulario */
        form {
            background-color: #3a416f; /* gris azulado m√°s claro */
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease;
        }

        form:hover {
            transform: scale(1.02);
        }

        /* Etiquetas form */
        .form-label {
            color: #e2e2e2;
            font-weight: 600;
        }

        /* T√≠tulos */
        h3 {
            color: #ffd54f; /* amarillo mostaza */
            text-shadow: 0 0 5px #ffd54faa;
            user-select: none;
        }

        /* Botones */
        .btn-warning {
            background-color: #ffcc00;
            border: none;
            font-weight: 700;
            letter-spacing: 0.05rem;
        }

        .btn-outline-light {
            border-color: #ffd54f;
            color: #ffd54f;
            font-weight: 600;
        }

        .btn-outline-light:hover {
            background-color: #ffd54f;
            color: #2c2f48;
            border-color: #ffd54f;
        }

        /* Footer */
        footer {
            margin-top: 4rem;
            padding: 1rem;
            background-color: #1a1a1a;
            text-align: center;
            color: #bbb;
            user-select: none;
        }

        /* Animaci√≥n fade-in */
        .fade-in {
            opacity: 0;
            animation: fadeInUp 1s ease forwards;
        }

        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>

    <header>
        <div class="brand">
            <h1 class="display-4">üéüÔ∏è TicketCRACK</h1>
            <p class="lead mb-0">¬°Compra tu entrada ahora!</p>
        </div>
    </header>

    <main class="container mt-5">
        <div class="row g-5">
            <!-- Imagen y detalles del evento -->
            <div class="col-md-5 fade-in" style="animation-delay: 0.2s;">
                <img src="{{ funcion.evento.imagenes.url }}" class="ticket-image" alt="{{ funcion }}" />
                <h2 class="mt-4 text-warning text-center">{{ funcion }}</h2>
                <div class="event-details">
                    <p><strong>üïí Hora:</strong> {{ funcion.hora }} hrs</p>
                    <p><strong>üìÖ Fecha:</strong> {{ funcion.fecha }}</p>
                    <p><strong>üìç Lugar:</strong> {{ funcion.lugar }}</p>
                    <p><strong>üí∞ Precio base:</strong> ${{ funcion.precio }}</p>
                    <p><strong>üé´ Asientos disponibles:</strong> {{ funcion.asientos_disponibles }}</p>
                </div>
            </div>

            <!-- Formulario de compra -->
            <div class="col-md-6 offset-md-1 fade-in" style="animation-delay: 0.4s;">
                <form method="POST">
                    {% csrf_token %}
                    <h3 class="text-center mb-4">Completa tu compra</h3>

                    <div class="mb-3">
                        <label for="id_cliente" class="form-label">Nombre</label>
                        {{ form.cliente }}
                    </div>

                    <div class="mb-3">
                        <label for="id_email" class="form-label">Email</label>
                        {{ form.email }}
                    </div>

                    <div class="mb-3">
                        <label for="id_entradas" class="form-label">Cantidad de Entradas</label>
                        {{ form.entradas }}
                    </div>

                    <div class="mb-3">
                        <label for="id_codigo" class="form-label">C√≥digo de Descuento (opcional)</label>
                        {{ form.codigo }}
                    </div>

                    <div class="mb-3">
                        <label for="id_ubicacion" class="form-label">Ubicaci√≥n</label>
                        {{ form.ubicacion }}
                    </div>

                    {{ form.id_funcion }}

                    <div class="d-flex justify-content-between mt-4">
                        <a class="btn btn-outline-light" href="/" role="button">Cancelar</a>
                        <button type="submit" class="btn btn-warning">Comprar</button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <footer class="mt-5 bg-dark text-white py-4">
    <div class="container text-center">
        <p class="mb-1">&copy; TicketCRACK. Todos los derechos reservados.</p>
        <small>Desarrollado por la mejor empresa de eventos en chileüõ†Ô∏è</small>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
